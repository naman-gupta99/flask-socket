<!DOCTYPE html>
<html>

<head>
    <title>Event Portal</title>
</head>

<body>
    <button id="increment-button">Increment</button>
    <script>
        const socket = new WebSocket('{{ websocket_url }}/increment'); // Use localhost for local testing

        socket.onopen = () => {
            console.log('WebSocket connection opened');
        };

        socket.onerror = (error) => {
            console.error('WebSocket error:', error);
        };

        socket.onclose = (event) => {
            console.log('WebSocket connection closed:', event);
        };

        document.getElementById('increment-button').addEventListener('click', () => {
            if (socket.readyState === WebSocket.OPEN) {
                socket.send(0);
            } else {
                console.error('WebSocket is not open. ReadyState:', socket.readyState);
            }
        });
    </script>
</body>

</html>